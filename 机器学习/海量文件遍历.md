```python
!tree -L 3 ./data/
```

    ./data/
    └── data10954
        ├── cat_12_test.zip
        ├── cat_12_train.zip
        └── train_list.txt
    
    1 directory, 3 files



```python
import zipfile
import os
def unzip_data(src_path,target_path):
    # 解压原始数据集，将src_path路径下的zip包解压至target_path目录下
    if(not os.path.isdir(target_path)):     
        z = zipfile.ZipFile(src_path, 'r')
        z.extractall(path=target_path)
        z.close()

unzip_data('data/data10954/cat_12_test.zip','data/data10954/cat_12_test')
unzip_data('data/data10954/cat_12_train.zip','data/data10954/cat_12_train')

```


```python
!tree -L 6 ./data/
```


```python
import os
 
"""
通过给定目录，统计所有的不同子文件类型及占用内存
"""
#字典size_dict记录文件大小和type_dict记录类型
size_dict = {}
type_dict = {}
def get_size_type(path):
    files = os.listdir(path)
    
    for filename in files:
        temp_path = os.path.join(path, filename)
        if os.path.isdir(temp_path):
            # 递归调用函数，实现深度文件名解析
            get_size_type(temp_path)     
        elif os.path.isfile(temp_path):
            # 获取文件后缀
            type_name=os.path.splitext(temp_path)[1]   
            #无后缀名的文件
            if not type_name:
                #dict.setdefault(key, default=None)如果键不存在于字典中，将会添加键并将值设为默认值
                type_dict.setdefault("None", 0)
                type_dict["None"] += 1
                size_dict.setdefault("None", 0)
                size_dict["None"] += os.path.getsize(temp_path)
            # 有后缀的文件
            else:
                type_dict.setdefault(type_name, 0)
                type_dict[type_name] += 1
                size_dict.setdefault(type_name, 0)
                # 获取文件大小
                size_dict[type_name] += os.path.getsize(temp_path)  
    

path= "data/"
get_size_type(path)
for each_type in type_dict.keys():
    print ("%5s下共有【%5s】的文件【%5d】个,占用内存【%7.2f】MB" %     
            (path,each_type,type_dict[each_type],\
            size_dict[each_type]/(1024*1024)))
print("总文件数:  【%d】"%(sum(type_dict.values())))
print("总内存大小:【%.2f】GB"%(sum(size_dict.values())/(1024**3)))
```

    data/下共有【 .jpg】的文件【 2400】个,占用内存【 207.66】MB
    data/下共有【 .zip】的文件【    2】个,占用内存【 205.80】MB
    data/下共有【 .txt】的文件【    1】个,占用内存【   0.11】MB
    总文件数:  【2403】
    总内存大小:【0.40】GB

